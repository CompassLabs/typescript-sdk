/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  Apy,
  Apy$inboundSchema,
  Apy$Outbound,
  Apy$outboundSchema,
} from "./apy.js";
import {
  CompassApiBackendModelsVaultsReadResponseVaultUserPosition,
  CompassApiBackendModelsVaultsReadResponseVaultUserPosition$inboundSchema,
  CompassApiBackendModelsVaultsReadResponseVaultUserPosition$Outbound,
  CompassApiBackendModelsVaultsReadResponseVaultUserPosition$outboundSchema,
} from "./compassapibackendmodelsvaultsreadresponsevaultuserposition.js";
import {
  UnderlyingToken,
  UnderlyingToken$inboundSchema,
  UnderlyingToken$Outbound,
  UnderlyingToken$outboundSchema,
} from "./underlyingtoken.js";

export type VaultGetVaultResponse = {
  /**
   * Name of the vault.
   */
  name: string;
  /**
   * Symbol of the vault.
   */
  symbol: string;
  /**
   * Number of decimals used for the vault's share precision.
   */
  decimals: number;
  /**
   * Total amount of assets deposited in the vault.
   */
  totalAssets: string;
  /**
   * Total amount of shares issued from the vault.
   */
  totalSupply: string;
  /**
   * The price of one vault share in terms of the underlying asset.
   */
  sharePrice: string;
  underlyingToken: UnderlyingToken;
  apy: Apy;
  /**
   * The user's position in the vault.
   */
  userPosition?:
    | CompassApiBackendModelsVaultsReadResponseVaultUserPosition
    | null
    | undefined;
};

/** @internal */
export const VaultGetVaultResponse$inboundSchema: z.ZodType<
  VaultGetVaultResponse,
  z.ZodTypeDef,
  unknown
> = z.object({
  name: z.string(),
  symbol: z.string(),
  decimals: z.number().int(),
  total_assets: z.string(),
  total_supply: z.string(),
  share_price: z.string(),
  underlying_token: UnderlyingToken$inboundSchema,
  apy: Apy$inboundSchema,
  user_position: z.nullable(
    CompassApiBackendModelsVaultsReadResponseVaultUserPosition$inboundSchema,
  ).optional(),
}).transform((v) => {
  return remap$(v, {
    "total_assets": "totalAssets",
    "total_supply": "totalSupply",
    "share_price": "sharePrice",
    "underlying_token": "underlyingToken",
    "user_position": "userPosition",
  });
});

/** @internal */
export type VaultGetVaultResponse$Outbound = {
  name: string;
  symbol: string;
  decimals: number;
  total_assets: string;
  total_supply: string;
  share_price: string;
  underlying_token: UnderlyingToken$Outbound;
  apy: Apy$Outbound;
  user_position?:
    | CompassApiBackendModelsVaultsReadResponseVaultUserPosition$Outbound
    | null
    | undefined;
};

/** @internal */
export const VaultGetVaultResponse$outboundSchema: z.ZodType<
  VaultGetVaultResponse$Outbound,
  z.ZodTypeDef,
  VaultGetVaultResponse
> = z.object({
  name: z.string(),
  symbol: z.string(),
  decimals: z.number().int(),
  totalAssets: z.string(),
  totalSupply: z.string(),
  sharePrice: z.string(),
  underlyingToken: UnderlyingToken$outboundSchema,
  apy: Apy$outboundSchema,
  userPosition: z.nullable(
    CompassApiBackendModelsVaultsReadResponseVaultUserPosition$outboundSchema,
  ).optional(),
}).transform((v) => {
  return remap$(v, {
    totalAssets: "total_assets",
    totalSupply: "total_supply",
    sharePrice: "share_price",
    underlyingToken: "underlying_token",
    userPosition: "user_position",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace VaultGetVaultResponse$ {
  /** @deprecated use `VaultGetVaultResponse$inboundSchema` instead. */
  export const inboundSchema = VaultGetVaultResponse$inboundSchema;
  /** @deprecated use `VaultGetVaultResponse$outboundSchema` instead. */
  export const outboundSchema = VaultGetVaultResponse$outboundSchema;
  /** @deprecated use `VaultGetVaultResponse$Outbound` instead. */
  export type Outbound = VaultGetVaultResponse$Outbound;
}

export function vaultGetVaultResponseToJSON(
  vaultGetVaultResponse: VaultGetVaultResponse,
): string {
  return JSON.stringify(
    VaultGetVaultResponse$outboundSchema.parse(vaultGetVaultResponse),
  );
}

export function vaultGetVaultResponseFromJSON(
  jsonString: string,
): SafeParseResult<VaultGetVaultResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => VaultGetVaultResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'VaultGetVaultResponse' from JSON`,
  );
}
